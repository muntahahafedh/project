{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{useAppContext}from\"../Store/store\";import\"./EventRegister.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function EventRegister(){const{user}=useAppContext();const navigate=useNavigate();const[phone,setPhone]=useState(\"\");const[age,setAge]=useState(\"\");const[gender,setGender]=useState(\"\");const[experience,setExperience]=useState(\"\");const[eventId,setEventId]=useState(\"\");const events=[{id:\"1\",title:\"Inclusive Job Fair - Salalah\"},{id:\"2\",title:\"Web Accessibility Workshop\"}];const handleSubmit=async()=>{if(!eventId||!phone||!age||!gender||!experience)return alert(\"Please fill all fields\");if(!(user!==null&&user!==void 0&&user.id)||!(user!==null&&user!==void 0&&user.name))return alert(\"User not logged in\");const selectedEvent=events.find(e=>e.id===eventId);try{const res=await fetch(\"http://localhost:3001/registerEvent\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:user.name,phone,age,gender,experience,eventId,eventTitle:selectedEvent===null||selectedEvent===void 0?void 0:selectedEvent.title,userId:user.id})});const data=await res.json();if(res.ok){alert(\"Event registration successful!\");setPhone(\"\");setAge(\"\");setGender(\"\");setExperience(\"\");setEventId(\"\");navigate(\"/settings\");}else{alert(data.error||\"Registration failed\");}}catch(err){console.error(\"Event registration error:\",err);alert(\"Server error. Please try again.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"event-register-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"event-register-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register for Event\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Phone Number\",value:phone,onChange:e=>setPhone(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Age\",value:age,onChange:e=>setAge(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{value:gender,onChange:e=>setGender(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Gender\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Female\",children:\"Female\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:experience,onChange:e=>setExperience(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Experience\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Beginner\",children:\"Beginner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Intermediate\",children:\"Intermediate\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Advanced\",children:\"Advanced\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:eventId,onChange:e=>setEventId(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Event\"}),events.map(ev=>/*#__PURE__*/_jsx(\"option\",{value:ev.id,children:ev.title},ev.id))]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-register\",onClick:handleSubmit,children:\"Submit\"})]})});}","map":{"version":3,"names":["React","useState","useNavigate","useAppContext","jsx","_jsx","jsxs","_jsxs","EventRegister","user","navigate","phone","setPhone","age","setAge","gender","setGender","experience","setExperience","eventId","setEventId","events","id","title","handleSubmit","alert","name","selectedEvent","find","e","res","fetch","method","headers","body","JSON","stringify","eventTitle","userId","data","json","ok","error","err","console","className","children","type","placeholder","value","onChange","target","map","ev","onClick"],"sources":["C:/Users/Huawe/OneDrive/Desktop/Muyen-main/Muyen-main/client/src/components/EventRegister.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAppContext } from \"../Store/store\";\nimport \"./EventRegister.css\";\n\nexport function EventRegister() {\n  const { user } = useAppContext();\n  const navigate = useNavigate();\n\n  const [phone, setPhone] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [gender, setGender] = useState(\"\");\n  const [experience, setExperience] = useState(\"\");\n  const [eventId, setEventId] = useState(\"\");\n\n  const events = [\n    { id: \"1\", title: \"Inclusive Job Fair - Salalah\" },\n    { id: \"2\", title: \"Web Accessibility Workshop\" },\n  ];\n\n  const handleSubmit = async () => {\n    if (!eventId || !phone || !age || !gender || !experience)\n      return alert(\"Please fill all fields\");\n    if (!user?.id || !user?.name) return alert(\"User not logged in\");\n\n    const selectedEvent = events.find(e => e.id === eventId);\n\n    try {\n      const res = await fetch(\"http://localhost:3001/registerEvent\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          name: user.name,\n          phone,\n          age,\n          gender,\n          experience,\n          eventId,\n          eventTitle: selectedEvent?.title,\n          userId: user.id,\n        }),\n      });\n\n      const data = await res.json();\n\n      if (res.ok) {\n        alert(\"Event registration successful!\");\n        setPhone(\"\"); setAge(\"\"); setGender(\"\"); setExperience(\"\"); setEventId(\"\");\n        navigate(\"/settings\");\n      } else {\n        alert(data.error || \"Registration failed\");\n      }\n    } catch (err) {\n      console.error(\"Event registration error:\", err);\n      alert(\"Server error. Please try again.\");\n    }\n  };\n\n  return (\n    <div className=\"event-register-page\">\n      <div className=\"event-register-container\">\n        <h1>Register for Event</h1>\n\n        <input type=\"text\" placeholder=\"Phone Number\" value={phone} onChange={e => setPhone(e.target.value)} />\n        <input type=\"number\" placeholder=\"Age\" value={age} onChange={e => setAge(e.target.value)} />\n\n        <select value={gender} onChange={e => setGender(e.target.value)}>\n          <option value=\"\">Select Gender</option>\n          <option value=\"Male\">Male</option>\n          <option value=\"Female\">Female</option>\n        </select>\n\n        <select value={experience} onChange={e => setExperience(e.target.value)}>\n          <option value=\"\">Select Experience</option>\n          <option value=\"Beginner\">Beginner</option>\n          <option value=\"Intermediate\">Intermediate</option>\n          <option value=\"Advanced\">Advanced</option>\n        </select>\n\n        <select value={eventId} onChange={e => setEventId(e.target.value)}>\n          <option value=\"\">Select Event</option>\n          {events.map(ev => (\n            <option key={ev.id} value={ev.id}>{ev.title}</option>\n          ))}\n        </select>\n\n        <button className=\"btn-register\" onClick={handleSubmit}>Submit</button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}