{"ast":null,"code":"import React from\"react\";import{useNavigate}from\"react-router-dom\";import{MapContainer,TileLayer,Marker,Popup}from\"react-leaflet\";import\"leaflet/dist/leaflet.css\";import L from\"leaflet\";import\"./MapView.css\";// تصحيح أيقونات الماركارات الافتراضية للنسخة 4\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";delete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:require(\"leaflet/dist/images/marker-icon-2x.png\"),iconUrl:require(\"leaflet/dist/images/marker-icon.png\"),shadowUrl:require(\"leaflet/dist/images/marker-shadow.png\")});export function MapView(_ref){let{places=[]}=_ref;const navigate=useNavigate();const items=Array.isArray(places)?places:[];const defaultPosition=items.length?[items[0].lat,items[0].lng]:[0,0];return/*#__PURE__*/_jsxs(\"div\",{className:\"map-view\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:()=>navigate(\"/home\"),children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Nearby Places\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"map-container\",children:/*#__PURE__*/_jsxs(MapContainer,{center:defaultPosition,zoom:13,style:{height:\"400px\",width:\"100%\"},children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",attribution:\"\\xA9 OpenStreetMap contributors\"}),items.map(place=>/*#__PURE__*/_jsx(Marker,{position:[place.lat,place.lng],children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"strong\",{children:place.name}),/*#__PURE__*/_jsx(\"br\",{}),place.address||\"\"]})},place.id))]})}),items.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"no-places\"})]});}","map":{"version":3,"names":["React","useNavigate","MapContainer","TileLayer","Marker","Popup","L","jsx","_jsx","jsxs","_jsxs","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","MapView","_ref","places","navigate","items","Array","isArray","defaultPosition","length","lat","lng","className","children","onClick","center","zoom","style","height","width","url","attribution","map","place","position","name","address","id"],"sources":["C:/Users/Huawe/OneDrive/Desktop/Muyen-main/Muyen-main/client/src/components/MapView.js"],"sourcesContent":["import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport L from \"leaflet\";\nimport \"./MapView.css\";\n\n// تصحيح أيقونات الماركارات الافتراضية للنسخة 4\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\"),\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\"),\n});\n\nexport function MapView({ places = [] }) {\n  const navigate = useNavigate();\n  const items = Array.isArray(places) ? places : [];\n\n  const defaultPosition = items.length\n    ? [items[0].lat, items[0].lng]\n    : [0, 0];\n\n  return (\n    <div className=\"map-view\">\n      {/* Header */}\n      <div className=\"header\">\n        <button className=\"back-button\" onClick={() => navigate(\"/home\")}>\n          ← Back\n        </button>\n        <h2>Nearby Places</h2>\n      </div>\n\n      {/* الخريطة */}\n      <div className=\"map-container\">\n        <MapContainer\n          center={defaultPosition}\n          zoom={13}\n          style={{ height: \"400px\", width: \"100%\" }}\n        >\n          <TileLayer\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            attribution=\"&copy; OpenStreetMap contributors\"\n          />\n          {items.map((place) => (\n            <Marker key={place.id} position={[place.lat, place.lng]}>\n              <Popup>\n                <strong>{place.name}</strong>\n                <br />\n                {place.address || \"\"}\n              </Popup>\n            </Marker>\n          ))}\n        </MapContainer>\n      </div>\n\n      {/* رسالة إذا ما في أماكن */}\n      {items.length === 0 && (\n        <div className=\"no-places\">\n       \n       \n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,YAAY,CAAEC,SAAS,CAAEC,MAAM,CAAEC,KAAK,KAAQ,eAAe,CACtE,MAAO,0BAA0B,CACjC,MAAO,CAAAC,CAAC,KAAM,SAAS,CACvB,MAAO,eAAe,CAEtB;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,MAAO,CAAAJ,CAAC,CAACK,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW,CAC3CR,CAAC,CAACK,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC,CAC1BC,aAAa,CAAEC,OAAO,CAAC,wCAAwC,CAAC,CAChEC,OAAO,CAAED,OAAO,CAAC,qCAAqC,CAAC,CACvDE,SAAS,CAAEF,OAAO,CAAC,uCAAuC,CAC5D,CAAC,CAAC,CAEF,MAAO,SAAS,CAAAG,OAAOA,CAAAC,IAAA,CAAkB,IAAjB,CAAEC,MAAM,CAAG,EAAG,CAAC,CAAAD,IAAA,CACrC,KAAM,CAAAE,QAAQ,CAAGtB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAuB,KAAK,CAAGC,KAAK,CAACC,OAAO,CAACJ,MAAM,CAAC,CAAGA,MAAM,CAAG,EAAE,CAEjD,KAAM,CAAAK,eAAe,CAAGH,KAAK,CAACI,MAAM,CAChC,CAACJ,KAAK,CAAC,CAAC,CAAC,CAACK,GAAG,CAAEL,KAAK,CAAC,CAAC,CAAC,CAACM,GAAG,CAAC,CAC5B,CAAC,CAAC,CAAE,CAAC,CAAC,CAEV,mBACEpB,KAAA,QAAKqB,SAAS,CAAC,UAAU,CAAAC,QAAA,eAEvBtB,KAAA,QAAKqB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBxB,IAAA,WAAQuB,SAAS,CAAC,aAAa,CAACE,OAAO,CAAEA,CAAA,GAAMV,QAAQ,CAAC,OAAO,CAAE,CAAAS,QAAA,CAAC,aAElE,CAAQ,CAAC,cACTxB,IAAA,OAAAwB,QAAA,CAAI,eAAa,CAAI,CAAC,EACnB,CAAC,cAGNxB,IAAA,QAAKuB,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BtB,KAAA,CAACR,YAAY,EACXgC,MAAM,CAAEP,eAAgB,CACxBQ,IAAI,CAAE,EAAG,CACTC,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAO,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAN,QAAA,eAE1CxB,IAAA,CAACL,SAAS,EACRoC,GAAG,CAAC,oDAAoD,CACxDC,WAAW,CAAC,iCAAmC,CAChD,CAAC,CACDhB,KAAK,CAACiB,GAAG,CAAEC,KAAK,eACflC,IAAA,CAACJ,MAAM,EAAgBuC,QAAQ,CAAE,CAACD,KAAK,CAACb,GAAG,CAAEa,KAAK,CAACZ,GAAG,CAAE,CAAAE,QAAA,cACtDtB,KAAA,CAACL,KAAK,EAAA2B,QAAA,eACJxB,IAAA,WAAAwB,QAAA,CAASU,KAAK,CAACE,IAAI,CAAS,CAAC,cAC7BpC,IAAA,QAAK,CAAC,CACLkC,KAAK,CAACG,OAAO,EAAI,EAAE,EACf,CAAC,EALGH,KAAK,CAACI,EAMX,CACT,CAAC,EACU,CAAC,CACZ,CAAC,CAGLtB,KAAK,CAACI,MAAM,GAAK,CAAC,eACjBpB,IAAA,QAAKuB,SAAS,CAAC,WAAW,CAGrB,CACN,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}