{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import'./OnboardingCarousel.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const slides=[{title:'Welcome to Muyan',description:'Your accessible city guide',bgColor:'#009688'},{title:'Find Places Easily',description:'Discover accessible spots around you',bgColor:'#3F51B5'},{title:'Connect With Community',description:'Join other users and share tips',bgColor:'#FF5722'}];export function OnboardingCarousel(){const[currentIndex,setCurrentIndex]=useState(0);const slidesRef=useRef(null);const startX=useRef(0);const isDragging=useRef(false);const navigate=useNavigate();// \n// \nuseEffect(()=>{const interval=setInterval(()=>{if(!isDragging.current){if(currentIndex<slides.length-1){setCurrentIndex(currentIndex+1);}else{clearInterval(interval);navigate(\"/login\");// ← الانتقال بعد نهاية الكاروسيل\n}}},3000);return()=>clearInterval(interval);},[currentIndex,navigate]);// وظائف السحب\nconst handleTouchStart=e=>{isDragging.current=true;startX.current=e.touches?e.touches[0].clientX:e.clientX;};const handleTouchMove=e=>{if(!isDragging.current)return;const currentX=e.touches?e.touches[0].clientX:e.clientX;const diff=startX.current-currentX;if(diff>50&&currentIndex<slides.length-1){setCurrentIndex(currentIndex+1);isDragging.current=false;}else if(diff<-50&&currentIndex>0){setCurrentIndex(currentIndex-1);isDragging.current=false;}};const handleTouchEnd=()=>{isDragging.current=false;};return/*#__PURE__*/_jsxs(\"div\",{className:\"onboarding-container\",onMouseDown:handleTouchStart,onMouseMove:handleTouchMove,onMouseUp:handleTouchEnd,onMouseLeave:handleTouchEnd,onTouchStart:handleTouchStart,onTouchMove:handleTouchMove,onTouchEnd:handleTouchEnd,children:[/*#__PURE__*/_jsx(\"div\",{className:\"slides-wrapper\",ref:slidesRef,style:{transform:\"translateX(-\".concat(currentIndex*100,\"vw)\")},children:slides.map((slide,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"onboarding-slide\",style:{backgroundColor:slide.bgColor},children:[/*#__PURE__*/_jsx(\"h1\",{children:slide.title}),/*#__PURE__*/_jsx(\"p\",{children:slide.description})]},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"onboarding-dots\",children:slides.map((_,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"onboarding-dot \".concat(index===currentIndex?'active':'')},index))})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","jsx","_jsx","jsxs","_jsxs","slides","title","description","bgColor","OnboardingCarousel","currentIndex","setCurrentIndex","slidesRef","startX","isDragging","navigate","interval","setInterval","current","length","clearInterval","handleTouchStart","e","touches","clientX","handleTouchMove","currentX","diff","handleTouchEnd","className","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd","children","ref","style","transform","concat","map","slide","index","backgroundColor","_"],"sources":["C:/Users/Huawe/OneDrive/Desktop/Muyen-main/Muyen-main/client/src/components/OnboardingCarousel.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './OnboardingCarousel.css';\nimport { useNavigate } from 'react-router-dom';\n\nconst slides = [\n  { title: 'Welcome to Muyan', description: 'Your accessible city guide', bgColor: '#009688' },\n  { title: 'Find Places Easily', description: 'Discover accessible spots around you', bgColor: '#3F51B5' },\n  { title: 'Connect With Community', description: 'Join other users and share tips', bgColor: '#FF5722' },\n];\n\nexport function OnboardingCarousel() {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const slidesRef = useRef(null);\n  const startX = useRef(0);\n  const isDragging = useRef(false);\n  const navigate = useNavigate(); // \n\n  // \n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (!isDragging.current) {\n        if (currentIndex < slides.length - 1) {\n          setCurrentIndex(currentIndex + 1);\n        } else {\n          clearInterval(interval);\n          navigate(\"/login\"); // ← الانتقال بعد نهاية الكاروسيل\n        }\n      }\n    }, 3000);\n\n    return () => clearInterval(interval);\n  }, [currentIndex, navigate]);\n\n  // وظائف السحب\n  const handleTouchStart = (e) => {\n    isDragging.current = true;\n    startX.current = e.touches ? e.touches[0].clientX : e.clientX;\n  };\n\n  const handleTouchMove = (e) => {\n    if (!isDragging.current) return;\n    const currentX = e.touches ? e.touches[0].clientX : e.clientX;\n    const diff = startX.current - currentX;\n\n    if (diff > 50 && currentIndex < slides.length - 1) {\n      setCurrentIndex(currentIndex + 1);\n      isDragging.current = false;\n    } else if (diff < -50 && currentIndex > 0) {\n      setCurrentIndex(currentIndex - 1);\n      isDragging.current = false;\n    }\n  };\n\n  const handleTouchEnd = () => {\n    isDragging.current = false;\n  };\n\n  return (\n    <div\n      className=\"onboarding-container\"\n      onMouseDown={handleTouchStart}\n      onMouseMove={handleTouchMove}\n      onMouseUp={handleTouchEnd}\n      onMouseLeave={handleTouchEnd}\n      onTouchStart={handleTouchStart}\n      onTouchMove={handleTouchMove}\n      onTouchEnd={handleTouchEnd}\n    >\n      <div\n        className=\"slides-wrapper\"\n        ref={slidesRef}\n        style={{ transform: `translateX(-${currentIndex * 100}vw)` }}\n      >\n        {slides.map((slide, index) => (\n          <div\n            key={index}\n            className=\"onboarding-slide\"\n            style={{ backgroundColor: slide.bgColor }}\n          >\n            <h1>{slide.title}</h1>\n            <p>{slide.description}</p>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"onboarding-dots\">\n        {slides.map((_, index) => (\n          <span\n            key={index}\n            className={`onboarding-dot ${index === currentIndex ? 'active' : ''}`}\n          ></span>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}