{"ast":null,"code":"// JobsRegister.js\nimport React,{useState}from\"react\";import{useAppContext}from\"../Store/store\";import{useNavigate}from\"react-router-dom\";import\"./JobsRegister.css\";// قائمة افتراضية تربط العنوان بالشركة والموقع\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const jobOptions={\"Graphic Designer\":{company:\"Company XYZ\",location:\"Location XYZ\"},\"UI/UX Designer\":{company:\"TechCorp\",location:\"Remote\"},\"Web Developer\":{company:\"WebWorks\",location:\"Muscat\"}};export function JobsRegister(){const{user}=useAppContext();const navigate=useNavigate();const[title,setTitle]=useState(\"\");const[company,setCompany]=useState(\"\");const[location,setLocation]=useState(\"\");const[type,setType]=useState(\"\");const[phone,setPhone]=useState(\"\");// تحديث الشركة والموقع تلقائياً حسب العنوان\nconst handleTitleChange=e=>{const value=e.target.value;setTitle(value);if(jobOptions[value]){setCompany(jobOptions[value].company);setLocation(jobOptions[value].location);}else{setCompany(\"\");setLocation(\"\");}};const handleSubmit=async()=>{if(!title||!company||!location||!type||!phone){return alert(\"Please fill all fields\");}if(!(user!==null&&user!==void 0&&user.id))return alert(\"User not logged in\");try{const res=await fetch(\"http://localhost:3001/registerJob\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({userId:user.id,jobId:Date.now().toString(),title,company,location,type,phone})});const data=await res.json();if(res.ok){alert(\"Job registration successful!\");setTitle(\"\");setCompany(\"\");setLocation(\"\");setType(\"\");setPhone(\"\");navigate(\"/settings\");}else{alert(data.error||\"Registration failed\");}}catch(err){console.error(\"Job registration error:\",err);alert(\"Server error. Please try again.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"jobs-register-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"jobs-register-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register for Job\"}),/*#__PURE__*/_jsxs(\"select\",{value:title,onChange:handleTitleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Job Title\"}),Object.keys(jobOptions).map(job=>/*#__PURE__*/_jsx(\"option\",{value:job,children:job},job))]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Company\",value:company,readOnly:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Location\",value:location,readOnly:true}),/*#__PURE__*/_jsxs(\"select\",{value:type,onChange:e=>setType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Job Type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Full-time\",children:\"Full-time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Part-time\",children:\"Part-time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Internship\",children:\"Internship\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Phone Number\",value:phone,onChange:e=>setPhone(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-register\",onClick:handleSubmit,children:\"Submit\"})]})});}","map":{"version":3,"names":["React","useState","useAppContext","useNavigate","jsx","_jsx","jsxs","_jsxs","jobOptions","company","location","JobsRegister","user","navigate","title","setTitle","setCompany","setLocation","type","setType","phone","setPhone","handleTitleChange","e","value","target","handleSubmit","alert","id","res","fetch","method","headers","body","JSON","stringify","userId","jobId","Date","now","toString","data","json","ok","error","err","console","className","children","onChange","Object","keys","map","job","placeholder","readOnly","onClick"],"sources":["C:/Users/Huawe/OneDrive/Desktop/Muyen-main/Muyen-main/client/src/components/JobsRegister.js"],"sourcesContent":["// JobsRegister.js\r\nimport React, { useState } from \"react\";\r\nimport { useAppContext } from \"../Store/store\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./JobsRegister.css\";\r\n\r\n// قائمة افتراضية تربط العنوان بالشركة والموقع\r\nconst jobOptions = {\r\n  \"Graphic Designer\": { company: \"Company XYZ\", location: \"Location XYZ\" },\r\n  \"UI/UX Designer\": { company: \"TechCorp\", location: \"Remote\" },\r\n  \"Web Developer\": { company: \"WebWorks\", location: \"Muscat\" },\r\n};\r\n\r\nexport function JobsRegister() {\r\n  const { user } = useAppContext();\r\n  const navigate = useNavigate();\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [company, setCompany] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n\r\n  // تحديث الشركة والموقع تلقائياً حسب العنوان\r\n  const handleTitleChange = (e) => {\r\n    const value = e.target.value;\r\n    setTitle(value);\r\n\r\n    if (jobOptions[value]) {\r\n      setCompany(jobOptions[value].company);\r\n      setLocation(jobOptions[value].location);\r\n    } else {\r\n      setCompany(\"\");\r\n      setLocation(\"\");\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!title || !company || !location || !type || !phone) {\r\n      return alert(\"Please fill all fields\");\r\n    }\r\n    if (!user?.id) return alert(\"User not logged in\");\r\n\r\n    try {\r\n      const res = await fetch(\"http://localhost:3001/registerJob\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          userId: user.id,\r\n          jobId: Date.now().toString(),\r\n          title,\r\n          company,\r\n          location,\r\n          type,\r\n          phone,\r\n        }),\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        alert(\"Job registration successful!\");\r\n        setTitle(\"\");\r\n        setCompany(\"\");\r\n        setLocation(\"\");\r\n        setType(\"\");\r\n        setPhone(\"\");\r\n        navigate(\"/settings\");\r\n      } else {\r\n        alert(data.error || \"Registration failed\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Job registration error:\", err);\r\n      alert(\"Server error. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"jobs-register-page\">\r\n      <div className=\"jobs-register-container\">\r\n        <h1>Register for Job</h1>\r\n\r\n        <select value={title} onChange={handleTitleChange}>\r\n          <option value=\"\">Select Job Title</option>\r\n          {Object.keys(jobOptions).map((job) => (\r\n            <option key={job} value={job}>{job}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <input type=\"text\" placeholder=\"Company\" value={company} readOnly />\r\n        <input type=\"text\" placeholder=\"Location\" value={location} readOnly />\r\n\r\n        <select value={type} onChange={(e) => setType(e.target.value)}>\r\n          <option value=\"\">Select Job Type</option>\r\n          <option value=\"Full-time\">Full-time</option>\r\n          <option value=\"Part-time\">Part-time</option>\r\n          <option value=\"Internship\">Internship</option>\r\n        </select>\r\n\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Phone Number\"\r\n          value={phone}\r\n          onChange={(e) => setPhone(e.target.value)}\r\n        />\r\n\r\n        <button className=\"btn-register\" onClick={handleSubmit}>\r\n          Submit\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}